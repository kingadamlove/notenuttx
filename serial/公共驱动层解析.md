#   这层是给posix层提供函数，主要就是实现open、read、write函数

##  uart_open()函数
1.  使用互斥锁和临界区来保证正确初始化
2.  uart_setup -> uart_attach 
3.  主要就两件事，一是串口初始化，二是配置中断

##  uart_writev()函数
1.  中断上下文和空闲任务时的调用过程,一直到uart_send()函数，进入了hal层
uart_writev() -> uart_irqwritev() -> uart_irqwrite() -> uart_putchars() -> uart_send()
2.  正常流程
3.  oktoblock = ((filep->f_oflags & O_NONBLOCK) == 0);
如果用户打开串口时指定了 O_NONBLOCK，那写入时遇到 TX 缓冲区满会直接返回 -EAGAIN，而不是阻塞等。